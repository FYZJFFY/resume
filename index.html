<!DOCTYP html>
<html>
    <head>
        <title>简历-冯方圆</title>
        <link rel="stylesheet" href="css/index.css">
        <script src="//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js"></script>
        <style type="text/css">
            .icon {
               width: 1em; height: 1em;
               vertical-align: -0.15em;
               fill: currentColor;
               overflow: hidden;
            }
            .site-welcome{
                position: fixed;
                width: 100%;
                height: 100%;
                left: 0;
                top: 0;
                background: gray;
                z-index: 100;
                display: none;
            }
            .site-welcome.active{
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .site-welcome .loading{
                width: 200px;
                height:200px;
            }
            .site-welcome .loading::before,.site-welcome .loading::after{
                content: '';
                position: absolute;
                width: 0px;
                height: 0px;
                background: black;
                border-radius: 50%;
                left: 0;
                right: 0;
                bottom: 0;
                top: 0;
                margin: auto;
                animation: loadingAnimate 1.5s linear infinite;
            }
            .site-welcome .loading::after{
                animation-delay: 0.7s;
            }
            @keyframes loadingAnimate{
                0%{
                    width: 0px;height: 0px;opacity: 1;
                }
                100%{
                    width: 100px;height: 100px;opacity: 0;;
                }
            } 
        </style>
    </head>
    <body>
        <!-- <div id="siteWelcome" class="site-welcome active">
            <div class="loading"></div>
        </div> -->
        <div id="topNavBar" class="topNavBar clearfix">
            <div class="topNavBar-inner clearfix ">
                <a href="#" class="logo" alt="logo">
                    <span class="rs">RS</span><span class="card">card</span>
                </a>
                <nav>
                    <ul class="clearfix">
                        <li class="menuTrigger"><a href="#siteAbout">关于</a></li>
                        <li class="menuTrigger"><a href="#siteSkill">技能</a></li>
                        <li class="menuTrigger">
                            <a href="#sitePro">作品</a>
                            <ul class="submenu">
                                <li>作品1</li>
                                <li>作品2</li>
                                <li>作品3</li>
                            </ul> 
                        </li>
                        <li class="menuTrigger"><a href="#">经验</a></li>
                        <li class="menuTrigger">
                            <a href="#">博客</a>
                            <ul class="submenu">
                                <li>博客1</li>
                                <li>博客2</li>
                                <li>博客3</li>
                            </ul> 
                        </li>
                        <li class="menuTrigger"><a href="#">日历</a></li>
                        <li class="menuTrigger"><a href="#">联系方式</a></li>
                        <li class="menuTrigger"><a href="#">其他</a></li> 
                    </ul>
                </nav>
            </div>
        </div>
        <div class="banner" >
            <div class="mask">

            </div>
        </div>
        <main>
            <div data-scroll class="user-card" id="siteAbout">
                <div class="clearfix pictureAndText">
                    <div class="picture">
                        <img src="image/avatar.jpg" alt="头像">
                    </div>
                    <div class="text">
                        <span class="hello">HELLO
                            <span class="triangle"></span>
                        </span>
                        <h1>冯方圆</h1>
                        <p>前端工程师</p>
                        <hr>
                        <dl>
                            <dt>年龄</dt>
                            <dd>23</dd>
                            <dt>地址</dt>
                            <dd>杭州市西湖区</dd>
                            <dt>邮箱</dt>
                            <dd>18758177547@163.com</dd>
                            <dt>手机号码</dt>
                            <dd>18758177547</dd>
                        </dl>
                    </div> 
                </div>
                <footer class="media">
                    <a >
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-csdn"></use>
                        </svg> 
                    </a>
                    <a href="https://github.com/FYZJFFY" target="_blank">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-github"></use>
                        </svg> 
                    </a>
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-weibo-copy"></use>
                        </svg> 
                    </a>
            </div>
            <div  class="btn-wrapper">
                <a href="#" class="button">下载简历</a>
            </div>
            <p  class="intro">
                冯方圆， 初级前端工程师，目前就只于杭州英涉时装。<br>
                技能：前端开发，小程序开发
            </p>
        </main>
        <section data-scroll class="skills" id="siteSkill">
            <h2>专业技能</h2>
            <ol class="clearfix"> 
                <li>
                    <h5>HTML 5 &amp; CSS</h5> 
                    <div class="skill-bar">
                        <div></div>
                    </div>   
                </li>
                <li>
                    <h5>JavaScript</h5>
                    <div class="skill-bar">
                        <div></div>
                    </div>
                </li>
                <li>
                    <h5>jQuery</h5>
                    <div class="skill-bar">
                        <div></div>
                    </div>
                </li>
                <li>
                    <h5>Vue</h5>
                    <div class="skill-bar">
                        <div></div>
                    </div>
                </li>
                <li>
                    <h5>HTTP</h5>
                    <div class="skill-bar">
                        <div></div>
                    </div>
                </li>
                <li>
                    <h5>小程序</h5>
                    <div class="skill-bar">
                        <div></div>
                    </div>
                </li>
            </ol>
        </section>
        <section data-scroll class="produ-List" id="sitePro">
            <h2>作品集</h2>
            <nav>
                <ol class="clearfix">
                    <li id="portfolio1">所有</li>
                    <li id="portfolio2">框架</li>
                    <li id="portfolio3">原生</li>
                </ol>
                <div id="portfolioBar" class="lines lines-1">
                    <div class="bar-inner"></div>
                </div>
            </nav>
            <div  class="jobs"> 
                <div class="big">
                    <img src="image/1.jpg" alt="图片1">
                </div>
                <div class="small1">
                    <img src="image/2.jpg" alt="图片2">
                </div>
                <div class="small2">
                    <img src="image/3.jpg" alt="图片3">
                </div>
            </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js"></script>
            <script>
                    portfolio1.onclick=function(){
                        portfolioBar.className ="lines lines-1";
                        console.log("di");
                    }
                    portfolio2.onclick=function(){
                        console.log("di");

                        portfolioBar.className ="lines lines-2";
                    }
                    portfolio3.onclick=function(){
                        console.log("di");

                        portfolioBar.className ="lines lines-3";
                    }
                    var siteWelcome = document.getElementById("siteWelcome");
                    // setTimeout(function(){
                    //     siteWelcome.classList.remove("active");
                    // },2000);
                    setTimeout(function(){
                        yyy();
                    },0);

                    window.onscroll = function(e){
                        if(window.scrollY > 0){
                            topNavBar.classList.add("sticky");
                        }else{
                            topNavBar.classList.remove("sticky");
                        }
                        yyy();
                    }
                    function yyy(){
                        var dataScrollList = document.querySelectorAll("[data-scroll]");
                        let currentTop = window.scrollY;
                        let nearestIndex = 0;
                        for(let i = 0;i<dataScrollList.length;i++){
                            if(Math.abs(dataScrollList[i].offsetTop-window.scrollY) < Math.abs(dataScrollList[nearestIndex].offsetTop - window.scrollY)){
                                nearestIndex = i;
                            }
                        }
                        
                        var id = dataScrollList[nearestIndex].id;
                        dataScrollList[nearestIndex].classList.add("active");
                        var brothers = document.querySelector("a[href = '#"+id+"']").parentNode.parentNode.children;
                        for(let i = 0;i<brothers.length;i++){
                            brothers[i].classList.remove("highlight");
                        }
                        document.querySelector("a[href = '#"+id+"']").parentNode.classList.add("highlight");
                    }
                    var liTags = document.getElementsByClassName("menuTrigger");
                    for(let i = 0;i<liTags.length;i++){
                        liTags[i].onmouseenter = function(e){
                            let li = e.currentTarget;
                            let ul = li.getElementsByTagName("ul")[0];
                            li.classList.add("active");
                        }

                        liTags[i].onmouseleave = function(e){
                            let li = e.currentTarget;
                            let ul = li.getElementsByTagName("ul")[0];
                            li.classList.remove("active");
                        }
                    }

                    let aTags = document.querySelectorAll("#topNavBar li a");
                    for(let i =0;i<aTags.length;i++){
                        aTags[i].onclick = function(e){
                            e.preventDefault();
                            console.log(e.target.getAttribute("href"));
                            let href = e.target.getAttribute("href");
                            let node = document.querySelector(href);
                            var top = node.offsetTop;

                            var targetTop = top-80;
                            var currentTop = window.scrollY;
                            var scrollLength = targetTop-currentTop;
                            var scrollNum = 80;


                            function animate(time) {
                                requestAnimationFrame(animate);
                                TWEEN.update(time);
                            }
                            requestAnimationFrame(animate);

                            // let id = setInterval(function(){
                            //     console.log(11);
                            //     if(scrollNum == 0){
                            //         clearInterval(id);
                            //         return ;
                            //     }
                            //     currentTop = currentTop+scrollLengthEveryTime;
                            //     window.scrollTo(0,currentTop);
                            //     scrollNum--;
                            // },20);

                            var t = Math.abs(((targetTop - currentTop)/100)*300);
                            if(t>500){
                                t = 500;
                            }
                                

                            var coords = {  y: currentTop }; 
                            var tween = new TWEEN.Tween(coords) 
                                    .to({ y: targetTop }, 500) 
                                    .easing(TWEEN.Easing.Quadratic.In) 
                                    .onUpdate(function() {
                                        console.log("y:"+coords.y);
                                        window.scrollTo(0,coords.y);
                                    })
                                    .start(); 
                        }
                    }
                </script>
        </section>
        
    </body>
</html>